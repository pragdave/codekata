
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Kata10: Hashes vs. Classes - CodeKata</title>
  <meta name="author" content="Dave Thomas (@PragDave)">

  
  <meta name="description" content="If we’re programming business applications in a language such as Java
or C#, we’re used to constructing and using classes to manipulate our
business &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://pragdave.github.io/codekata/kata/kata10-hashes-vs-classes">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/codekata/atom.xml" rel="alternate" title="CodeKata" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">CodeKata</a></h1>
  
    <h2>Because experience<br/>is the <em>only</em> teacher</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/codekata/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:pragdave.github.io/codekata" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="http://pragdave.me/">PragDave</a></li>
  <li><a href="/">Kata</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Kata10: Hashes vs. Classes</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-12-20T18:10:37-06:00" pubdate data-updated="true">Dec 20<span>th</span>, 2013</time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://pragdave.github.io/codekata">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>If we’re programming business applications in a language such as Java
or C#, we’re used to constructing and using classes to manipulate our
business objects. Is this always the right way to go, or would a less
formal approach serves us well sometimes?</p>

<!-- more -->


<p>This week’s topic doesn’t involve a coding challenge. Instead, we’re
thinking about design and tradeoffs.</p>

<p>Imagine that you’ve been asked to write an export utility for a large
and complex database. The export has to read data from 30 or so tables
(perhaps 100 columns are potentially written to each export
record). Some of the exported data is written exactly as read from the
database, but other exported data must be calculated. In addition, if
certain flag fields have specific values, then additional data must be
read from the database to complete an export row.</p>

<p>The export data must obviously be correct, but the client is also
asking for a flexible solution; their world changes a lot.</p>

<p>One solution is to use existing business objects and existing
persistence mechanisms, and to use higher-level classes to aggregate
their results into a form that can be used to generate export
rows. This higher level object could perform the calculations
necessary for the virtual fields, and read in additional business
objects if the flag fields dictate.</p>

<p>An alternative solution might be to read the data row at a time into a
Hash (an associative array, dictionary, …) using ad-hoc queries,
keying the hash on the field names. A separate pass could then be made
to perform any necessary calculations, storing the results back in to
the same hash. Additional data could be read from the database if the
flag fields are set, again storing the results in the hash. The
contents of the hash are then used to write the export record, and we
loop back to do the next row.</p>

<p>This kata is a thought experiment. What are the top three advantages
and top three disadvantages of the two approaches? If you’re been
using classes to hold data in your business applications, what would
the impact be if you were to switch to hashes, and vice versa? Is this
issue related to the static/dynamic typing debate?</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Dave Thomas (@PragDave)</span></span>

      








  


<time datetime="2013-12-20T18:10:37-06:00" pubdate data-updated="true">Dec 20<span>th</span>, 2013</time>
      


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://pragdave.github.io/codekata/kata/kata10-hashes-vs-classes/" data-via="" data-counturl="http://pragdave.github.io/codekata/kata/kata10-hashes-vs-classes/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/kata/kata11-sorting-it-out/" title="Previous Post: Kata11: Sorting it Out">&laquo; Kata11: Sorting it Out</a>
      
      
        <a class="basic-alignment right" href="/kata/kata09-back-to-the-checkout/" title="Next Post: Kata09: Back to the Checkout">Kata09: Back to the Checkout &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/kata/codekata-how-it-started/">CodeKata: How It Started</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata-kumite-koan-and-dreyfus/">Kata, Kumite, Koan, and Dreyfus</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata01-supermarket-pricing/">Kata01: Supermarket Pricing</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata02-karate-chop/">Kata02: Karate Chop</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata03-how-big-how-fast/">Kata03: How Big? How Fast?</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata04-data-munging/">Kata04: Data Munging</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata05-bloom-filters/">Kata05: Bloom Filters</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata06-anagrams/">Kata06: Anagrams</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata07-howd-i-do/">Kata07: How'd I Do?</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata08-conflicting-objectives/">Kata08: Conflicting Objectives</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata09-back-to-the-checkout/">Kata09: Back to the Checkout</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata10-hashes-vs-classes/">Kata10: Hashes vs. Classes</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata11-sorting-it-out/">Kata11: Sorting It Out</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata12-best-sellers/">Kata12: Best Sellers</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata13-counting-code-lines/">Kata13: Counting Code Lines</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata14-tom-swift-under-the-milkwood/">Kata14: Tom Swift Under the Milkwood</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata15-a-diversion/">Kata15: A Diversion</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata16-business-rules/">Kata16: Business Rules</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata17-more-business-rules/">Kata17: More Business Rules</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata18-transitive-dependencies/">Kata18: Transitive Dependencies</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata19-word-chains/">Kata19: Word Chains</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata20-klondike/">Kata20: Klondike</a>
      </li>
    
      <li class="post">
        <a href="/kata/kata21-simple-lists/">Kata21: Simple Lists</a>
      </li>
    
  </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Dave Thomas (@PragDave) -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'pragdave';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://pragdave.github.io/codekata/kata/kata10-hashes-vs-classes/';
        var disqus_url = 'http://pragdave.github.io/codekata/kata/kata10-hashes-vs-classes/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
